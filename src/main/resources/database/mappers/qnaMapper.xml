<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.arc.s3.board.qna.QnaDAO">



	<select id="getList" resultType="QnaDTO" parameterType="Pager">
	
		select * from
		(select rownum R, Q.*
		from (select * from qna order by ref desc, step asc) Q)
		<!-- where R between #{startRow} and #{lastRow} -->	
	
	</select>


	
	<insert id="setInsert" parameterType="BoardDTO">
		insert into qna values(qna_seq.nextval, #{title}, #{writer}, #{contents}, sysdate,0,qna_seq.currval,0,0);
	</insert>


	<select id="BoardDTO" parameterType="BoardDTO" resultType="QnaDTO">
	
	select * from qna where num=#{num}
	
	</select>

	<update id="setHitUpdate" parameterType="BoardDTO">
	update qna set hit=hit+1; where num=#{num}
	</update>


</mapper>